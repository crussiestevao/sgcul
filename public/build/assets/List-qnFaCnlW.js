import{r as l,j as e,b as f,Y as R}from"./app-WTHt1LSi.js";import{B as n,A as q}from"./AuthenticatedLayout-NK43SbJu.js";import{F as b,a as v}from"./index-CRY0guS2.js";import{M as w}from"./Modal-C0JQ37IZ.js";import{a as s,I as i,b as p,E as V}from"./Table-D1yEHtpt.js";import{s as N}from"./index-CSmRDWBX.js";import{s as y}from"./index-D_D5JtQz.js";import{O as D}from"./OrderTablesList-Dr3tD0Cy.js";import{S as L}from"./Skeleton-NKsi4xZD.js";import{S as E}from"./index-q7U9IFmc.js";import"./transition-D-4lsDo_.js";import"./useForceUpdate-DnUyU4Vs.js";import"./index-BRxVF3WE.js";const H="/build/assets/station-Djso6V8Q.jpg";function P({open:d,setOpen:r,setDatasource:m}){const o=l.useRef(null),x=async h=>{await f.post(route("station.add.new",h)).then(t=>{N.open({message:"✅ Criada com sucesso",placement:"top",type:"success",description:e.jsx(e.Fragment,{children:e.jsx("p",{children:"Estacao criada"})})}),o.current.resetFields(),m(t.data)}).catch(t=>{})};return e.jsx(e.Fragment,{children:e.jsxs(w,{show:d,onClose:()=>{r(!1)},children:[e.jsx("p",{className:"px-8 py-4 font-bold text-lg",children:"Criar Nova Estacão"}),e.jsxs(s,{className:"mx-8 px-lg-4 py-4",layout:"vertical",ref:o,onFinish:x,children:[e.jsx(s.Item,{label:"Nome",name:"name",rules:[{required:!0,message:"Nome da bomba"}],children:e.jsx(i,{type:"name",allowClear:!0,placeholder:"Nome da Bomba"})}),e.jsx(s.Item,{label:"Endereço",name:"address",children:e.jsx(i.TextArea,{allowClear:!0,placeholder:"Endereço"})}),e.jsx(s.Item,{label:"Contacto",name:"contact",children:e.jsx(i,{allowClear:!0,placeholder:"Contacto"})}),e.jsx(s.Item,{children:e.jsxs("div",{className:"flex justify-between px-8 py-4",children:[e.jsx(n,{icon:e.jsx(b,{}),onClick:()=>{r(!1)},children:"Fechar"}),e.jsx(n,{icon:e.jsx(v,{}),className:"bg-green-400 text-white",onClick:()=>{o.current.submit()},children:"Salvar & Adiconar"})]})})]})]})})}function T({show:d,setShow:r,setBalances:m,station:o}){const[x,h]=N.useNotification(),t=l.useRef(null),u=async c=>{c.station=o.id,await f.post(route("station.make.payment"),c).then(a=>{m(a.data.station),t.current.resetFields(),y.success("Feito com sucesso")}).catch(a=>{x.open({message:a.response.data.message,description:a.response.data.message,type:"warning"})})};return e.jsxs(e.Fragment,{children:[h,e.jsxs(w,{show:d,onClose:()=>r(!1),footer:null,children:[e.jsx("p",{className:"px-8 py-4 font-bold text-lg bg-amber-400 text-white",children:"Efectuar Pagamentos"}),e.jsxs(s,{className:"mx-8 px-lg-4 py-4",layout:"vertical",ref:t,onFinish:u,children:[e.jsx(s.Item,{label:"Valor total",name:"total",rules:[{required:!0,message:"Valor"}],children:e.jsx(i,{type:"number",allowClear:!0,placeholder:"Valor a pagar",min:1})}),e.jsx(s.Item,{label:"Observação",name:"obs",children:e.jsx(i.TextArea,{allowClear:!0,placeholder:"Observação"})}),e.jsx(s.Item,{name:"method",label:"Metodo de pagamento usado",rules:[{required:!0,message:"Metodo de pagamento usado"}],children:e.jsxs(p,{placeholder:"Metodo de pagamento usado",children:[e.jsx(p.Option,{value:"Cheque Bancário",children:"Cheque Bancário"}),e.jsx(p.Option,{value:"Numerário",children:"Numerário"})]})}),e.jsx(s.Item,{label:"Número de Documento (Recibo)",name:"doc_number",rules:[{required:!0,message:"Recibo"}],children:e.jsx(i,{allowClear:!0,placeholder:"Número do Documento passado pela estacão "})}),e.jsx(s.Item,{children:e.jsxs("div",{className:"flex justify-between px-8 py-4",children:[e.jsx(n,{icon:e.jsx(b,{}),onClick:()=>{r(!1)},children:"Fechar"}),e.jsx(n,{icon:e.jsx(v,{}),className:"bg-amber-400 text-white",onClick:()=>{t.current.submit()},children:"Salvar & Adiconar"})]})})]})]})]})}function z({show:d,setShow:r,setBalances:m,station:o}){const[x,h]=N.useNotification(),t=l.useRef(null),u=async c=>{c.station=o.id,await f.post(route("station.make.deposits"),c).then(a=>{m(a.data.station),t.current.resetFields(),y.success("Feito com sucesso")}).catch(a=>{x.open({message:a.response.data.message,description:a.response.data.message,type:"warning"})})};return e.jsxs(e.Fragment,{children:[h,e.jsxs(w,{show:d,onClose:()=>r(!1),footer:null,children:[e.jsx("p",{className:"px-8 py-4 font-bold text-lg bg-green-400 text-white",children:"Efectuar Depositos"}),e.jsxs(s,{className:"mx-8 px-lg-4 py-4",layout:"vertical",ref:t,onFinish:u,children:[e.jsx(s.Item,{label:"Valor a depositar",name:"total",rules:[{required:!0,message:"Valor"}],children:e.jsx(i,{type:"number",allowClear:!0,placeholder:"Valor a depositar",min:1})}),e.jsx(s.Item,{label:"Observação",name:"obs",children:e.jsx(i.TextArea,{allowClear:!0,placeholder:"Observação"})}),e.jsx(s.Item,{name:"method",label:"Metodo de pagamento usado",rules:[{required:!0,message:"Metodo de pagamento usado"}],children:e.jsxs(p,{placeholder:"Metodo de pagamento usado",children:[e.jsx(p.Option,{value:"Cheque Bancário",children:"Cheque Bancário"}),e.jsx(p.Option,{value:"Numerário",children:"Numerário"})]})}),e.jsx(s.Item,{label:"Número de Documento (Recibo do deposito)",name:"doc_number",rules:[{required:!0,message:"Recibo"}],children:e.jsx(i,{allowClear:!0,placeholder:"Número do Recibo do deposito"})}),e.jsx(s.Item,{children:e.jsxs("div",{className:"flex justify-between px-8 py-4",children:[e.jsx(n,{icon:e.jsx(b,{}),onClick:()=>{r(!1)},children:"Fechar"}),e.jsx(n,{icon:e.jsx(v,{}),className:"bg-green-400 text-white",onClick:()=>{t.current.submit()},children:"Salvar & Adiconar"})]})})]})]})]})}function ae(d){var M,F,k;const[r,m]=l.useState(!1),[o,x]=l.useState(d.stations),[h,t]=l.useState(!1),[u,c]=l.useState([]),[a,I]=l.useState(),[O,C]=l.useState(!1),[A,S]=l.useState(!1),B=async j=>{t(!0),await f.get(route("station.get.balances",j)).then(g=>{t(!1),c(g.data.station),y.success("Balanco Obtido")}).catch(g=>{})};return e.jsx(e.Fragment,{children:e.jsxs(q,{user:d.auth.user,page:"lista de Estações de serviço",header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Listas de Etscaoes"}),children:[e.jsx(R,{title:"Lista de Estações de serviço"}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{children:e.jsx(i.Search,{placeholder:"Buscar Estacao",allowClear:!0})}),e.jsxs(n,{className:"flex gap-2",type:"primary",onClick:()=>{m(!0)},children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 0 1-2.25 2.25M16.5 7.5V18a2.25 2.25 0 0 0 2.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 0 0 2.25 2.25h13.5M6 7.5h3v3H6v-3Z"})}),e.jsx("p",{children:"Adicionar novas Estações de serviço"})]})]}),e.jsxs("div",{className:"flex h-screen mt-4",children:[e.jsx("div",{className:"w-8/12 bg-gray-100 p-4 border border-left",children:u.length===0?e.jsx(V,{description:"Nehum estacao selecionada"}):h?e.jsx(L,{active:!0}):e.jsxs("div",{children:[e.jsxs("p",{className:"font-bold mb-4",children:[" * ",a==null?void 0:a.name]}),e.jsxs("div",{className:"flex justify-between mb-4",children:[e.jsx("div",{className:"bg-white p-4 rounded shadow flex-grow",children:e.jsx(E,{value:(M=u[0])==null?void 0:M.debit,title:e.jsx("h2",{className:"text-lg font-medium",children:"Saldo a favor"}),suffix:"Mzn",valueStyle:{color:"green",fontWeight:"bold"}})}),e.jsx("div",{className:"bg-white p-4 rounded shadow flex-grow ml-4",children:e.jsx(E,{value:(F=u[0])==null?void 0:F.credit,title:e.jsx("h2",{className:"text-lg font-medium",children:"Saldo em divida"}),suffix:"Mzn",valueStyle:{color:"red",fontWeight:"bold"}})})]}),e.jsxs("div",{className:"flex justify-between mt-3 mb-2",children:[e.jsx("p",{}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{onClick:()=>C(!0),children:"Pagamento"}),e.jsx(n,{onClick:()=>S(!0),children:"Deposito"}),e.jsx(n,{onClick:()=>{},children:"Saldo Anterior"})]})]}),e.jsx("h2",{className:"text-lg font-bold mb-4",children:"Movementos"}),e.jsx(D,{dataSource:(k=u[0])==null?void 0:k.moviments})]})}),e.jsxs("div",{className:"w-4/12 bg-gray-100 p-4",children:[e.jsx("h2",{className:"text-lg font-bold mb-4",children:"Estações de serviço"}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:o==null?void 0:o.map((j,g)=>e.jsxs("div",{onClick:()=>{B(j.id),I(j)},className:"bg-white p-4 rounded shadow relative cursor-pointer ripple hover:shadow-lg",children:[e.jsx("img",{src:H,alt:"Cover",className:"w-full h-32 object-cover rounded-t"}),e.jsx("div",{className:"absolute font-medium uppercase bottom-0 left-0 right-0 p-4 bg-white rounded-b",children:j.name})]},g))})]})]}),e.jsx(P,{open:r,setOpen:m,setDatasource:x}),e.jsx(T,{show:O,setShow:C,setBalances:c,station:a}),e.jsx(z,{show:A,setShow:S,setBalances:c,station:a})]})})}export{ae as default};
